import{r as x,j as e,L as g,A as v,u as N}from"./index-e00e5dec.js";import{u as P,a as C,f as h,P as k,g as z}from"./index-e01956ba.js";import{u as p,a as R,b as B,c as S}from"./lodash-b90886e1.js";import{B as M,a as V,b as F}from"./index.esm-9dd39406.js";import{C as L}from"./Confirmation-573a01ee.js";import{B as T}from"./index.esm-e7504cdc.js";import"./index-79874d85.js";function $(){var u,m;const{filter:i,setFilter:r}=p(),n=P(i),{data:a,isFetching:c,refetch:f}=R(n),{mutate:j}=B(s=>{s.success&&(f(),o(null))}),b=((u=a==null?void 0:a.data)==null?void 0:u.total)||0,y=((m=a==null?void 0:a.data)==null?void 0:m.data)||[],[l,o]=x.useState(null),w=x.useMemo(()=>[{accessorKey:"name",header:"Nama",size:50},{accessorKey:"variant",header:"Varian",size:50},{id:"url",header:"",size:50,accessorFn:s=>s,cell:s=>e.jsxs("div",{className:"inline-flex w-24 items-center justify-center gap-4 overflow-hidden",children:[e.jsx(g,{to:`${S.ecommerceSite}/product/${s.getValue().slug}`,target:"_blank",children:e.jsx(M,{size:17})}),e.jsx(g,{to:`/product/edit/${s.cell.getValue().id}`,children:e.jsx(V,{size:17})}),e.jsx("button",{onClick:()=>o(s.getValue()),children:e.jsx(F,{size:17})})]})}],[]),d=C({data:y,columns:w,getCoreRowModel:z()});return e.jsxs("div",{className:"relative overflow-x-auto",children:[e.jsxs("table",{className:"text-left text-sm text-gray-500",children:[e.jsx("thead",{className:"bg-blue-100 text-sm uppercase text-gray-700",children:d.getHeaderGroups().map(s=>e.jsx("tr",{children:s.headers.map(t=>e.jsx("th",{className:"px-6 py-5",style:{width:`${t.getSize()}%`},children:t.isPlaceholder?null:h(t.column.columnDef.header,t.getContext())},t.id))},s.id))}),e.jsx("tbody",{children:c?null:d.getRowModel().rows.map(s=>e.jsx("tr",{className:"border-b bg-white hover:bg-gray-50",children:s.getVisibleCells().map(t=>e.jsx("td",{className:"px-6 py-4",children:h(t.column.columnDef.cell,t.getContext())},t.id))},s.id))})]}),c?e.jsx("div",{className:"flex h-80 items-center justify-center",children:e.jsx(v,{size:25,className:"animate-spin"})}):null,e.jsx("div",{className:"flex justify-end p-4",children:e.jsx(k,{currentPage:Math.ceil((i.page+1)/i.limit),totalItems:b,itemsPerPage:i.limit,maxPageNumbers:8,onPageChange:s=>r({page:(s-1)*i.limit})})}),e.jsx(L,{open:!!l,onClose:()=>o(null),title:"Hapus Product",message:"Apakah anda yakin ingin hapus produk ini?",onSubmit:()=>(l==null?void 0:l.id)&&j(l==null?void 0:l.id)})]})}const I=()=>{const{filter:i,setFilter:r}=p(),n=N();return e.jsx("div",{className:"flex h-full flex-col p-8",children:e.jsxs("div",{className:"flex flex-1 flex-col rounded bg-white shadow-md",children:[e.jsxs("div",{className:"flex justify-end gap-4 p-4",children:[e.jsx("input",{required:!0,type:"text",name:"keyword",id:"keyword",autoComplete:"given-name",placeholder:"Keyword",className:"block w-52 rounded-md border-0 px-2 py-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:i.keyword,onChange:a=>r({keyword:a.target.value,page:0})}),e.jsxs("button",{onClick:()=>n("/product/tambah"),className:"flex items-center rounded bg-blue-500 p-2 text-white hover:shadow-lg",children:[e.jsx(T,{fontSize:"19px"}),"Tambah Product"]})]}),e.jsx($,{})]})})};export{I as default};
