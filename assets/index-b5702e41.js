import{r as x,j as e,k as N,l as w,L as v,A as C,u as R}from"./index-e0ece91c.js";import{B as k}from"./index.esm-b58ae8e1.js";import{u as h,a as z,b as P}from"./store-22369f75.js";import{u as A,a as K,f as g,P as M,g as B}from"./index-30ef2803.js";import{a as F,b as S}from"./index.esm-6cf14d94.js";import{C as T}from"./Confirmation-519b0979.js";import"./index-79874d85.js";function V(){var m,u;const{filter:l,setFilter:r}=h(),n=A(l),{data:t,isFetching:c,refetch:p}=z(n),{mutate:f}=P(s=>{s.success&&(p(),o(null))}),j=((m=t==null?void 0:t.data)==null?void 0:m.total)||0,b=((u=t==null?void 0:t.data)==null?void 0:u.data)||[],[i,o]=x.useState(null),y=x.useMemo(()=>[{accessorKey:"name",header:"Nama",size:33.33},{accessorKey:"username",header:"Username",size:33.33},{accessorKey:"email",header:"Email",size:33.33},{accessorKey:"isAdmin",header:"Admin",size:33.33,cell:s=>e.jsx("div",{className:"flex justify-center",children:s.getValue()?e.jsx(N,{size:20,className:"text-blue-500"}):e.jsx(w,{size:20,className:"text-red-500"})})},{id:"url",header:" ",accessorFn:s=>s,cell:s=>e.jsxs("div",{className:"inline-flex w-16 items-center justify-center gap-4 overflow-hidden",children:[e.jsx(v,{to:`/reseller/edit/${s.cell.getValue().id}`,children:e.jsx(F,{size:17})}),e.jsx("button",{onClick:()=>o(s.getValue()),children:e.jsx(S,{size:17})})]})}],[]),d=K({data:b,columns:y,getCoreRowModel:B()});return e.jsxs("div",{className:"relative overflow-x-auto",children:[e.jsxs("table",{className:"text-left text-sm text-gray-500",children:[e.jsx("thead",{className:"bg-blue-100 text-sm uppercase text-gray-700",children:d.getHeaderGroups().map(s=>e.jsx("tr",{children:s.headers.map(a=>e.jsx("th",{className:"px-6 py-5",style:{width:`${a.getSize()}%`},children:a.isPlaceholder?null:g(a.column.columnDef.header,a.getContext())},a.id))},s.id))}),e.jsx("tbody",{children:c?null:d.getRowModel().rows.map(s=>e.jsx("tr",{className:"border-b bg-white hover:bg-gray-50",children:s.getVisibleCells().map(a=>e.jsx("td",{className:"px-6 py-4",children:g(a.column.columnDef.cell,a.getContext())},a.id))},s.id))})]}),c?e.jsx("div",{className:"flex h-80 items-center justify-center",children:e.jsx(C,{size:25,className:"animate-spin"})}):null,e.jsx("div",{className:"flex justify-end p-4",children:e.jsx(M,{currentPage:Math.ceil((l.page+1)/l.limit),totalItems:j,itemsPerPage:l.limit,maxPageNumbers:8,onPageChange:s=>r({page:(s-1)*l.limit})})}),e.jsx(T,{open:!!i,onClose:()=>o(null),title:"Hapus Reseller",message:"Apakah anda yakin ingin hapus produk ini?",onSubmit:()=>(i==null?void 0:i.id)&&f(i==null?void 0:i.id)})]})}const G=()=>{const{filter:l,setFilter:r}=h(),n=R();return e.jsx("div",{className:"flex h-full flex-col p-8",children:e.jsxs("div",{className:"flex flex-1 flex-col rounded bg-white shadow-md",children:[e.jsxs("div",{className:"flex justify-end gap-4 p-4",children:[e.jsx("input",{required:!0,type:"text",name:"keyword",id:"keyword",autoComplete:"given-name",placeholder:"Keyword",className:"block w-52 rounded-md border-0 px-2 py-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:l.keyword,onChange:t=>r({keyword:t.target.value,page:0})}),e.jsxs("button",{onClick:()=>n("/reseller/tambah"),className:"flex items-center rounded bg-blue-500 p-2 text-white hover:shadow-lg",children:[e.jsx(k,{fontSize:"19px"}),"Tambah Reseller"]})]}),e.jsx(V,{})]})})};export{G as default};
