import{z as s}from"./index-7be5f59f.js";import{i as n,c as l,u as d,d as c,f as i,g}from"./index-3a94ed9b.js";import{o as S}from"./index-79874d85.js";import{u as p}from"./index.esm-55b2d53c.js";const P=s.object({id:s.number().optional(),name:s.string().nonempty(),username:s.string().nonempty(),email:s.string().optional(),password:s.string().optional(),confirmPassword:s.string().optional(),phoneNumber:s.string().nonempty(),address:s.string().optional(),tokopedia:s.string().optional(),shopee:s.string().optional(),instagram:s.string().optional(),isAdmin:s.boolean()}).superRefine((e,r)=>(!e.id&&!e.password?r.addIssue({code:s.ZodIssueCode.custom,message:"Password is required",path:["password"]}):e.password!==e.confirmPassword&&r.addIssue({code:s.ZodIssueCode.custom,message:"Passwords don't match",path:["confirmPassword"]}),s.NEVER)),f=async e=>(await n.get(`/reseller?${S(e)}`)).data,y=async e=>(await n.get(`/reseller/${e}`)).data,R=async e=>(await n.post("/reseller",e)).data,w=async e=>(await n.put("/reseller",e)).data,b=async e=>(await n.delete(`/reseller/${e}`)).data,h=e=>p(["reseller",e],()=>f(e),{enabled:!!e}),I=e=>p([`reseller/${e}`],()=>y(e),{enabled:!!e}),E=()=>{const{successSnackbar:e,errorSnackbar:r}=i(),{toggleLoader:o}=l(),a=d();return c({mutationFn:t=>R(t),onMutate:o,onSuccess:()=>{a("/reseller"),e("Successfully saved data")},onError:t=>{r("Failed save data")},onSettled:o})},L=()=>{const{successSnackbar:e,errorSnackbar:r}=i(),{toggleLoader:o}=l(),a=d();return c({mutationFn:t=>w(t),onMutate:o,onSuccess:()=>{a("/reseller"),e("Successfully saved data")},onError:t=>{r("Failed save data")},onSettled:o})},M=e=>{const{successSnackbar:r,errorSnackbar:o}=i(),{toggleLoader:a}=l();return c({mutationFn:t=>b(t),onMutate:a,onSuccess:(t,m)=>{r("Successfully removed reseller"),e({success:!0,id:m})},onError:t=>{o("Failed remove reseller"),e({success:!1})},onSettled:a})},u={filter:{limit:10,page:0,keyword:""}},_=g()(e=>({...u,setFilter:r=>e(o=>({filter:{...o.filter,...r}})),clearAll:()=>e({...u})}));export{P as R,h as a,M as b,E as c,I as d,L as e,_ as u};
