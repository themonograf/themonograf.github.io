import{r as g,j as e,L as C,A as w,u as N}from"./index-3a94ed9b.js";import{B as v}from"./index.esm-55b2d53c.js";import{u as p,a as k,b as P}from"./store-2b990609.js";import{u as R,a as z,f as x,P as M,g as B}from"./index-50e35832.js";import{a as F,b as S}from"./index.esm-8fafea87.js";import{C as T}from"./Confirmation-1a205258.js";import"./index-7be5f59f.js";import"./index-79874d85.js";function A(){var m,u;const{filter:i,setFilter:o}=p(),r=R(i),{data:a,isFetching:c,refetch:h}=k(r),{mutate:f}=P(s=>{s.success&&(h(),n(null))}),j=((m=a==null?void 0:a.data)==null?void 0:m.total)||0,y=((u=a==null?void 0:a.data)==null?void 0:u.data)||[],[l,n]=g.useState(null),b=g.useMemo(()=>[{accessorKey:"category",header:"Nama Kategory",size:100},{id:"url",header:" ",accessorFn:s=>s,cell:s=>e.jsxs("div",{className:"inline-flex w-16 items-center justify-center gap-4 overflow-hidden",children:[e.jsx(C,{to:`/category/edit/${s.cell.getValue().id}`,children:e.jsx(F,{size:17})}),e.jsx("button",{onClick:()=>n(s.getValue()),children:e.jsx(S,{size:17})})]})}],[]),d=z({data:y,columns:b,getCoreRowModel:B()});return e.jsxs("div",{className:"relative overflow-x-auto",children:[e.jsxs("table",{className:"text-left text-sm text-gray-500",children:[e.jsx("thead",{className:"bg-blue-100 text-sm uppercase text-gray-700",children:d.getHeaderGroups().map(s=>e.jsx("tr",{children:s.headers.map(t=>e.jsx("th",{className:"px-6 py-5",style:{width:`${t.getSize()}%`},children:t.isPlaceholder?null:x(t.column.columnDef.header,t.getContext())},t.id))},s.id))}),e.jsx("tbody",{children:c?null:d.getRowModel().rows.map(s=>e.jsx("tr",{className:"border-b bg-white hover:bg-gray-50",children:s.getVisibleCells().map(t=>e.jsx("td",{className:"px-6 py-4",children:x(t.column.columnDef.cell,t.getContext())},t.id))},s.id))})]}),c?e.jsx("div",{className:"flex h-80 items-center justify-center",children:e.jsx(w,{size:25,className:"animate-spin"})}):null,e.jsx("div",{className:"flex justify-end p-4",children:e.jsx(M,{currentPage:Math.ceil((i.page+1)/i.limit),totalItems:j,itemsPerPage:i.limit,maxPageNumbers:8,onPageChange:s=>o({page:(s-1)*i.limit})})}),e.jsx(T,{open:!!l,onClose:()=>n(null),title:"Hapus Category",message:"Apakah anda yakin ingin hapus produk ini?",onSubmit:()=>(l==null?void 0:l.id)&&f(l==null?void 0:l.id)})]})}const G=()=>{const{filter:i,setFilter:o}=p(),r=N();return e.jsx("div",{className:"flex h-full flex-col p-8",children:e.jsxs("div",{className:"flex flex-1 flex-col rounded bg-white shadow-md",children:[e.jsxs("div",{className:"flex justify-end gap-4 p-4",children:[e.jsx("input",{required:!0,type:"text",name:"keyword",id:"keyword",autoComplete:"given-name",placeholder:"Keyword",className:"block w-52 rounded-md border-0 px-2 py-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:i.keyword,onChange:a=>o({keyword:a.target.value,page:0})}),e.jsxs("button",{onClick:()=>r("/category/tambah"),className:"flex items-center rounded bg-blue-500 p-2 text-white hover:shadow-lg",children:[e.jsx(v,{fontSize:"19px"}),"Tambah Category"]})]}),e.jsx(A,{})]})})};export{G as default};
